{"mappings":"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","sources":["<anon>","kirki-packages/module-field-dependencies/src/control.js"],"sourcesContent":["(function () {\nvar $867dd2a716b51c32$var$kirkiDependencies = {\n    dependencyControls: {},\n    init: function() {\n        var self = this;\n        _.each(window.kirkiControlDependencies, function(requirements, dependantID) {\n            var control = wp.customize.control(dependantID);\n            if (control) {\n                requirements = self.addSettingLink(requirements);\n                wp.customize.control(dependantID).params.required = requirements;\n                self.showKirkiControl(control);\n            }\n        });\n        _.each(self.dependencyControls, function(dependency, dependencySetting) {\n            _.each(dependency.childrens, function(childrenSetting) {\n                wp.customize(dependency.settingLink, function(setting) {\n                    var setupControl = function(control) {\n                        var setActiveState;\n                        var isDisplayed;\n                        isDisplayed = function() {\n                            return self.showKirkiControl(wp.customize.control(childrenSetting));\n                        };\n                        setActiveState = function() {\n                            control.active.set(isDisplayed());\n                        };\n                        setActiveState();\n                        setting.bind(setActiveState);\n                        control.active.validate = isDisplayed;\n                    };\n                    wp.customize.control(childrenSetting, setupControl);\n                });\n            });\n        });\n    },\n    /**\n   * Get the actual customize setting link of a control.\n   *\n   * @since 1.0.3\n   * @param {string} controlID The ID of the control.\n   * @return {string} The setting link.\n   */ getSettingLink: function(controlID) {\n        var control = document.querySelector('[data-kirki-setting=\"' + controlID + '\"]');\n        var setting = controlID;\n        if (control) {\n            if (controlID !== control.dataset.kirkiSettingLink) setting = control.dataset.kirkiSettingLink;\n        }\n        return setting;\n    },\n    addSettingLink: function(requirements) {\n        const self = this;\n        requirements.forEach(function(requirement, requirementIndex) {\n            if (requirement.setting) requirements[requirementIndex].settingLink = self.getSettingLink(requirement.setting);\n            else // If `requirement` is an array, then it has nested dependencies, so let's loop it.\n            if (requirement.length) requirements[requirementIndex] = self.addSettingLink(requirements[requirementIndex]);\n        });\n        return requirements;\n    },\n    /**\n   * Should we show the control?\n   *\n   * @since 3.0.17\n   * @param {string|object} control - The control-id or the control object.\n   * @returns {bool} - Whether the control should be shown or not.\n   */ showKirkiControl: function(control) {\n        const self = this;\n        let show = true;\n        let i;\n        if (_.isString(control)) control = wp.customize.control(control);\n        // Exit early if control not found or if \"required\" argument is not defined.\n        if (\"undefined\" === typeof control || control.params && _.isEmpty(control.params.required)) return true;\n        // Loop control requirements.\n        for(i = 0; i < control.params.required.length; i++)if (!self.checkCondition(control.params.required[i], control, \"AND\")) show = false;\n        return show;\n    },\n    /**\n   * Check a condition.\n   *\n   * @param {Object} dependency - The dependency, inherited from showKirkiControl.\n   * @param {Object} dependantControl - The dependant control object.\n   * @param {string} relation - Can be one of 'AND' or 'OR'.\n   * @returns {bool} - Returns the results of the condition checks.\n   */ checkCondition: function(dependency, dependantControl, relation) {\n        let self = this;\n        let childRelation = \"AND\" === relation ? \"OR\" : \"AND\";\n        let nestedItems;\n        let value;\n        let i;\n        // If dependency has nested dependants, we need to process them separately.\n        if (\"undefined\" !== typeof dependency[0] && \"undefined\" === typeof dependency.setting) {\n            nestedItems = [];\n            // Loop sub-dependencies.\n            for(i = 0; i < dependency.length; i++)nestedItems.push(self.checkCondition(dependency[i], dependantControl, childRelation));\n            // OR relation. Check that true is part of the array.\n            if (\"OR\" === childRelation) return -1 !== nestedItems.indexOf(true);\n            // AND relation. Check that false is not part of the array.\n            return -1 === nestedItems.indexOf(false);\n        } // End of nested dependants processing.\n        if (\"undefined\" === typeof wp.customize.control(dependency.setting)) // Early exit if setting is not defined.\n        return true;\n        if (!self.dependencyControls[dependency.setting]) self.dependencyControls[dependency.setting] = {\n            settingLink: dependency.settingLink,\n            childrens: []\n        };\n        if (!self.dependencyControls[dependency.setting].childrens.includes(dependantControl.id)) self.dependencyControls[dependency.setting].childrens.push(dependantControl.id);\n        if (!dependency.settingLink) {\n            // console.log(dependency);\n            // console.log(dependantControl);\n            console.log(self.dependencyControls);\n            console.log(\"--------\");\n        }\n        value = wp.customize(dependency.settingLink).get();\n        if (wp.customize.control(dependency.setting).setting) value = wp.customize.control(dependency.setting).setting._value;\n        return self.evaluate(dependency.value, value, dependency.operator, dependency.choice);\n    },\n    /**\n   * Figure out if the 2 values have the relation we want.\n   *\n   * @since 3.0.17\n   * @param {mixed} value1 - The 1st value.\n   * @param {mixed} value2 - The 2nd value.\n   * @param {string} operator - The comparison to use.\n   * @param {string} choice - If we want to check an item in an object value.\n   * @returns {bool} - Returns the evaluation result.\n   */ evaluate: function(value1, value2, operator, choice) {\n        var found = false;\n        if (choice && \"object\" === typeof value2) value2 = value2[choice];\n        if (\"===\" === operator) return value1 === value2;\n        if (\"==\" === operator || \"=\" === operator || \"equals\" === operator || \"equal\" === operator) return value1 == value2;\n        if (\"!==\" === operator) return value1 !== value2;\n        if (\"!=\" === operator || \"not equal\" === operator) return value1 != value2;\n        if (\">=\" === operator || \"greater or equal\" === operator || \"equal or greater\" === operator) return value2 >= value1;\n        if (\"<=\" === operator || \"smaller or equal\" === operator || \"equal or smaller\" === operator) return value2 <= value1;\n        if (\">\" === operator || \"greater\" === operator) return value2 > value1;\n        if (\"<\" === operator || \"smaller\" === operator) return value2 < value1;\n        if (\"contains\" === operator || \"in\" === operator) {\n            if (_.isArray(value1) && _.isArray(value2)) {\n                _.each(value2, function(value) {\n                    if (value1.includes(value)) {\n                        found = true;\n                        return false;\n                    }\n                });\n                return found;\n            }\n            if (_.isArray(value2)) {\n                _.each(value2, function(value) {\n                    if (value == value1) // jshint ignore:line\n                    found = true;\n                });\n                return found;\n            }\n            if (_.isObject(value2)) {\n                if (!_.isUndefined(value2[value1])) found = true;\n                _.each(value2, function(subValue) {\n                    if (value1 === subValue) found = true;\n                });\n                return found;\n            }\n            if (_.isString(value2)) {\n                if (_.isString(value1)) return -1 < value1.indexOf(value2) && -1 < value2.indexOf(value1);\n                return -1 < value1.indexOf(value2);\n            }\n        }\n        if (\"does not contain\" === operator || \"not in\" === operator) return !this.evaluate(value1, value2, \"contains\", choice);\n        return value1 == value2;\n    }\n};\n/**\n * Enable [active_callback] for repeater's controls\n * This function MUST be here to use [kirkiControlDependencies] passed from [Field_Dependencies.php]\n *\n * @author: Kirki\n * @since 4.1.1\n */ var $867dd2a716b51c32$var$KirkiRepeaterDependencies = {\n    repeatersControls: {},\n    repeatersActiveCallbackFields: {},\n    listenTo: {},\n    init: function() {\n        var self = this;\n        /* 1. Collect All Repeaters */ _.each(window.kirkiRepeaterControlsAvailable, function(repDetails, repeaterID) {\n            var control = wp.customize.control(repeaterID);\n            if (control && control.params && control.params.type && control.params.type === 'repeater') {\n                self.repeatersControls[control.id] = self.repeatersControls[control.id] || [];\n                self.repeatersControls[control.id] = {\n                    'user_entries': JSON.parse(decodeURI(control.setting.get()))\n                };\n            }\n        });\n        /* 2. Collect Active Callbacks Arrays for each Available Repeater */ _.each(self.repeatersControls, function(repDetails, repID) {\n            var repControl = wp.customize.control(repID), repUserEntries = !_.isUndefined(repDetails) && !_.isUndefined(repDetails['user_entries']) && !_.isEmpty(repDetails['user_entries']) ? repDetails['user_entries'] : null;\n            if (!_.isUndefined(repControl) && !_.isNull(repUserEntries)) {\n                _.each(repUserEntries, function(rowValue, rowIndex) {\n                    _.each(rowValue, function(eleValue, eleID) {\n                        if (!_.isUndefined(repControl.params.fields[eleID])) {\n                            var eleDetails = repControl.params.fields[eleID];\n                            self.showRepeaterControl(repControl.id, eleDetails, rowValue);\n                        }\n                    });\n                });\n                self.repeatersActiveCallbackFields[repControl.id] = self.repeatersActiveCallbackFields[repControl.id] || [];\n                self.repeatersActiveCallbackFields[repControl.id] = self.listenTo;\n                /* Destroy it */ self.listenTo = {};\n            }\n        });\n        /* 3. Iterate inside every user entry and Apply [showRepeaterControl] on each slave element */ _.each(self.repeatersActiveCallbackFields, function(required_fields, repID) {\n            objRepeaterControl = wp.customize.control(repID);\n            if (!_.isUndefined(objRepeaterControl)) {\n                var repUserEntries = JSON.parse(decodeURI(objRepeaterControl.setting.get())), /* @see function [getValue] in [wp.customize.controlConstructor.repeater] located in [controls/js/script.js] */ repFields = objRepeaterControl.params.fields;\n                _.each(repUserEntries, function(rowValue, rowIndex) {\n                    _.each(required_fields, function(slaves, master) {\n                        _.each(slaves, function(slave) {\n                            var objSlave = repFields[slave], setActiveState, isDisplayed;\n                            isDisplayed = function() {\n                                return self.showRepeaterControl(repID, objSlave, rowValue);\n                            };\n                            setActiveState = function() {\n                                if (isDisplayed()) jQuery(objRepeaterControl.selector).find('[data-row=\"' + rowIndex + '\"] .repeater-field-' + slave).removeClass('inactive').addClass('active').slideDown('fast');\n                                else jQuery(objRepeaterControl.selector).find('[data-row=\"' + rowIndex + '\"] .repeater-field-' + slave).removeClass('active').addClass('inactive').slideUp('fast');\n                            };\n                            setActiveState();\n                        });\n                    });\n                });\n            }\n        });\n    },\n    /**\n\t * Should we show the control?\n\t *\n\t * @since 4.0.22\n\t *\n\t * @param {string} \t\t\trepeaterID - The repeater ID\n\t * @param {string|object}\tcontrol - The control-id or the control object.\n\t * @param {object}\t\t\trowEntries - The user entry for a repeater block\n\t * @returns {bool}\n\t */ showRepeaterControl: function(repeaterID, control, rowEntries) {\n        var self = this, show = true, isOption = !_.isUndefined(control) && /* Fix: Multiple Repeaters with no active_callback */ !_.isUndefined(control.id) && /* Fix: Multiple Repeaters with no active_callback */ control.id && // Check if id exists.\n        control.type && // Check if tpe exists.\n        !_.isEmpty(control.type) // Check if control's type is not empty.\n        , i;\n        // Exit early if control not found or if \"required\" argument is not defined.\n        if ('undefined' === typeof control || 'undefined' === typeof control.active_callback || control.active_callback && _.isEmpty(control.active_callback)) return true;\n        // Loop control requirements.\n        for(i = 0; i < control.active_callback.length; i++)if (!self.checkCondition(repeaterID, control.active_callback[i], control, rowEntries, isOption, 'AND')) show = false;\n        return show;\n    },\n    /**\n\t * Check a condition.\n\t *\n\t * @param {string} repeaterID - The repeater ID\n\t * @param {Object} requirement - The requirement, inherited from showRepeaterControl - Represents the Active Callack Array.\n\t * @param {Object} control \t- The repeater's control object.\n\t * @param {object} rowEntries - The user entry for a repeater block\n\t * @param {bool}   isOption - Whether it's an option or not.\n\t * @param {string} relation - Can be one of 'AND' or 'OR'.\n\t */ checkCondition: function(repeaterID, requirement, control, rowEntries, isOption, relation) {\n        var self = this, childRelation = 'AND' === relation ? 'OR' : 'AND', nestedItems, requirementSettingValue, i;\n        // If an array of other requirements nested, we need to process them separately.\n        if ('undefined' !== typeof requirement[0] && 'undefined' === typeof requirement.setting) {\n            nestedItems = [];\n            // Loop sub-requirements.\n            for(i = 0; i < requirement.length; i++)nestedItems.push(self.checkCondition(repeaterID, requirement[i], control, rowEntries, isOption, childRelation));\n            // OR relation. Check that true is part of the array.\n            if ('OR' === childRelation) return -1 !== nestedItems.indexOf(true);\n            // AND relation. Check that false is not part of the array.\n            return -1 === nestedItems.indexOf(false);\n        }\n        // Early exit if setting is not defined.\n        if (!requirement.setting in rowEntries) return true;\n        /* Requirement Setting User Value */ requirementSettingValue = rowEntries[requirement.setting];\n        // console.log( requirementSettingValue );\n        /**\n\t\t\t * Output: listenTo\n\t\t\t *\n\t\t\t * Master_#1\t=> array(\n\t\t\t * \t\t0: Slave #1,\n\t\t\t * \t\t1: Slave #2\n\t\t\t * )\n\t\t\t *\n\t\t\t */ self.listenTo[requirement.setting] = self.listenTo[requirement.setting] || [];\n        if (-1 === self.listenTo[requirement.setting].indexOf(control.id)) self.listenTo[requirement.setting].push(control.id);\n        return self.evaluate(requirement.value, requirementSettingValue, requirement.operator);\n    },\n    /**\n\t * Figure out if the 2 values have the relation we want.\n\t *\n\t * @since 4.0.22\n\t * @param {mixed} value1 - The 1st value.\n\t * @param {mixed} value2 - The 2nd value.\n\t * @param {string} operator - The comparison to use.\n\t * @returns {bool}\n\t */ evaluate: function(value1, value2, operator) {\n        var found = false;\n        if ('===' === operator) return value1 === value2;\n        if ('==' === operator || '=' === operator || 'equals' === operator || 'equal' === operator) return value1 == value2;\n        if ('!==' === operator) return value1 !== value2;\n        if ('!=' === operator || 'not equal' === operator) return value1 != value2;\n        if ('>=' === operator || 'greater or equal' === operator || 'equal or greater' === operator) return value2 >= value1;\n        if ('<=' === operator || 'smaller or equal' === operator || 'equal or smaller' === operator) return value2 <= value1;\n        if ('>' === operator || 'greater' === operator) return value2 > value1;\n        if ('<' === operator || 'smaller' === operator) return value2 < value1;\n        if ('contains' === operator || 'in' === operator) {\n            if (_.isArray(value1) && _.isArray(value2)) {\n                _.each(value2, function(value) {\n                    if (value1.includes(value)) {\n                        found = true;\n                        return false;\n                    }\n                });\n                return found;\n            }\n            if (_.isArray(value2)) {\n                _.each(value2, function(value) {\n                    if (value == value1) found = true;\n                });\n                return found;\n            }\n            if (_.isObject(value2)) {\n                if (!_.isUndefined(value2[value1])) found = true;\n                _.each(value2, function(subValue) {\n                    if (value1 === subValue) found = true;\n                });\n                return found;\n            }\n            if (_.isString(value2)) {\n                if (_.isString(value1)) return -1 < value1.indexOf(value2) && -1 < value2.indexOf(value1);\n                return -1 < value1.indexOf(value2);\n            }\n        }\n        return value1 == value2;\n    }\n};\njQuery(document).ready(function() {\n    $867dd2a716b51c32$var$kirkiDependencies.init();\n    $867dd2a716b51c32$var$KirkiRepeaterDependencies.init();\n});\n\n})();\n//# sourceMappingURL=control.js.map\n","var kirkiDependencies = {\n  dependencyControls: {},\n\n  init: function () {\n    var self = this;\n\n    _.each(\n      window.kirkiControlDependencies,\n      function (requirements, dependantID) {\n        var control = wp.customize.control(dependantID);\n\n        if (control) {\n          requirements = self.addSettingLink(requirements);\n\n          wp.customize.control(dependantID).params.required = requirements;\n          self.showKirkiControl(control);\n        }\n      }\n    );\n\n    _.each(self.dependencyControls, function (dependency, dependencySetting) {\n      _.each(dependency.childrens, function (childrenSetting) {\n        wp.customize(dependency.settingLink, function (setting) {\n          var setupControl = function (control) {\n            var setActiveState;\n            var isDisplayed;\n\n            isDisplayed = function () {\n              return self.showKirkiControl(\n                wp.customize.control(childrenSetting)\n              );\n            };\n\n            setActiveState = function () {\n              control.active.set(isDisplayed());\n            };\n\n            setActiveState();\n            setting.bind(setActiveState);\n\n            control.active.validate = isDisplayed;\n          };\n\n          wp.customize.control(childrenSetting, setupControl);\n        });\n      });\n    });\n  },\n\n  /**\n   * Get the actual customize setting link of a control.\n   *\n   * @since 1.0.3\n   * @param {string} controlID The ID of the control.\n   * @return {string} The setting link.\n   */\n  getSettingLink: function (controlID) {\n    var control = document.querySelector(\n      '[data-kirki-setting=\"' + controlID + '\"]'\n    );\n    var setting = controlID;\n\n    if (control) {\n      if (controlID !== control.dataset.kirkiSettingLink) {\n        setting = control.dataset.kirkiSettingLink;\n      }\n    }\n\n    return setting;\n  },\n\n  addSettingLink: function (requirements) {\n\t\tconst self = this;\n\n    requirements.forEach(function (requirement, requirementIndex) {\n      if (requirement.setting) {\n        requirements[requirementIndex].settingLink = self.getSettingLink(\n          requirement.setting\n        );\n      } else {\n        // If `requirement` is an array, then it has nested dependencies, so let's loop it.\n        if (requirement.length) {\n          requirements[requirementIndex] = self.addSettingLink(\n            requirements[requirementIndex]\n          );\n        }\n      }\n    });\n\n    return requirements;\n  },\n\n  /**\n   * Should we show the control?\n   *\n   * @since 3.0.17\n   * @param {string|object} control - The control-id or the control object.\n   * @returns {bool} - Whether the control should be shown or not.\n   */\n  showKirkiControl: function (control) {\n    const self = this;\n    let show = true;\n\n    let i;\n\n    if (_.isString(control)) {\n      control = wp.customize.control(control);\n    }\n\n    // Exit early if control not found or if \"required\" argument is not defined.\n    if (\n      \"undefined\" === typeof control ||\n      (control.params && _.isEmpty(control.params.required))\n    ) {\n      return true;\n    }\n\n    // Loop control requirements.\n    for (i = 0; i < control.params.required.length; i++) {\n      if (!self.checkCondition(control.params.required[i], control, \"AND\")) {\n        show = false;\n      }\n    }\n\n    return show;\n  },\n\n  /**\n   * Check a condition.\n   *\n   * @param {Object} dependency - The dependency, inherited from showKirkiControl.\n   * @param {Object} dependantControl - The dependant control object.\n   * @param {string} relation - Can be one of 'AND' or 'OR'.\n   * @returns {bool} - Returns the results of the condition checks.\n   */\n  checkCondition: function (dependency, dependantControl, relation) {\n    let self = this;\n    let childRelation = \"AND\" === relation ? \"OR\" : \"AND\";\n    let nestedItems;\n    let value;\n    let i;\n\n    // If dependency has nested dependants, we need to process them separately.\n    if (\n      \"undefined\" !== typeof dependency[0] &&\n      \"undefined\" === typeof dependency.setting\n    ) {\n      nestedItems = [];\n\n      // Loop sub-dependencies.\n      for (i = 0; i < dependency.length; i++) {\n        nestedItems.push(\n          self.checkCondition(dependency[i], dependantControl, childRelation)\n        );\n      }\n\n      // OR relation. Check that true is part of the array.\n      if (\"OR\" === childRelation) {\n        return -1 !== nestedItems.indexOf(true);\n      }\n\n      // AND relation. Check that false is not part of the array.\n      return -1 === nestedItems.indexOf(false);\n    } // End of nested dependants processing.\n\n    if (\"undefined\" === typeof wp.customize.control(dependency.setting)) {\n      // Early exit if setting is not defined.\n      return true;\n    }\n\n    if (!self.dependencyControls[dependency.setting]) {\n      self.dependencyControls[dependency.setting] = {\n        settingLink: dependency.settingLink,\n        childrens: [],\n      };\n    }\n\n    if (\n      !self.dependencyControls[dependency.setting].childrens.includes(\n        dependantControl.id\n      )\n    ) {\n      self.dependencyControls[dependency.setting].childrens.push(\n        dependantControl.id\n      );\n    }\n\n    if (!dependency.settingLink) {\n      // console.log(dependency);\n      // console.log(dependantControl);\n      console.log(self.dependencyControls);\n      console.log(\"--------\");\n    }\n\n    value = wp.customize(dependency.settingLink).get();\n\n    if (wp.customize.control(dependency.setting).setting) {\n      value = wp.customize.control(dependency.setting).setting._value;\n    }\n\n    return self.evaluate(\n      dependency.value,\n      value,\n      dependency.operator,\n      dependency.choice\n    );\n  },\n\n  /**\n   * Figure out if the 2 values have the relation we want.\n   *\n   * @since 3.0.17\n   * @param {mixed} value1 - The 1st value.\n   * @param {mixed} value2 - The 2nd value.\n   * @param {string} operator - The comparison to use.\n   * @param {string} choice - If we want to check an item in an object value.\n   * @returns {bool} - Returns the evaluation result.\n   */\n  evaluate: function (value1, value2, operator, choice) {\n    var found = false;\n\n    if (choice && \"object\" === typeof value2) {\n      value2 = value2[choice];\n    }\n\n    if (\"===\" === operator) {\n      return value1 === value2;\n    }\n\n    if (\n      \"==\" === operator ||\n      \"=\" === operator ||\n      \"equals\" === operator ||\n      \"equal\" === operator\n    ) {\n      return value1 == value2;\n    }\n\n    if (\"!==\" === operator) {\n      return value1 !== value2;\n    }\n\n    if (\"!=\" === operator || \"not equal\" === operator) {\n      return value1 != value2;\n    }\n\n    if (\n      \">=\" === operator ||\n      \"greater or equal\" === operator ||\n      \"equal or greater\" === operator\n    ) {\n      return value2 >= value1;\n    }\n\n    if (\n      \"<=\" === operator ||\n      \"smaller or equal\" === operator ||\n      \"equal or smaller\" === operator\n    ) {\n      return value2 <= value1;\n    }\n\n    if (\">\" === operator || \"greater\" === operator) {\n      return value2 > value1;\n    }\n\n    if (\"<\" === operator || \"smaller\" === operator) {\n      return value2 < value1;\n    }\n\n    if (\"contains\" === operator || \"in\" === operator) {\n      if (_.isArray(value1) && _.isArray(value2)) {\n        _.each(value2, function (value) {\n          if (value1.includes(value)) {\n            found = true;\n            return false;\n          }\n        });\n\n        return found;\n      }\n\n      if (_.isArray(value2)) {\n        _.each(value2, function (value) {\n          if (value == value1) {\n            // jshint ignore:line\n            found = true;\n          }\n        });\n        return found;\n      }\n\n      if (_.isObject(value2)) {\n        if (!_.isUndefined(value2[value1])) {\n          found = true;\n        }\n        _.each(value2, function (subValue) {\n          if (value1 === subValue) {\n            found = true;\n          }\n        });\n        return found;\n      }\n\n      if (_.isString(value2)) {\n        if (_.isString(value1)) {\n          return -1 < value1.indexOf(value2) && -1 < value2.indexOf(value1);\n        }\n        return -1 < value1.indexOf(value2);\n      }\n    }\n\n    if (\"does not contain\" === operator || \"not in\" === operator) {\n      return !this.evaluate(value1, value2, \"contains\", choice);\n    }\n\n    return value1 == value2;\n  },\n};\n\n\n/**\n * Enable [active_callback] for repeater's controls\n * This function MUST be here to use [kirkiControlDependencies] passed from [Field_Dependencies.php]\n *\n * @author: Kirki\n * @since 4.1.1\n */\nvar KirkiRepeaterDependencies = {\n\n\trepeatersControls: {},\n\n\trepeatersActiveCallbackFields: {},\n\tlistenTo: {},\n\n\tinit: function() {\n\t\t\tvar self = this;\n\n\t\t\t/* 1. Collect All Repeaters */\n\t_.each( window.kirkiRepeaterControlsAvailable, function (repDetails, repeaterID) {\n\n\t\t\tvar control = wp.customize.control(repeaterID);\n\n\t\t\t\t\tif( control && control.params && control.params.type && control.params.type === 'repeater' ) {\n\n\t\t\t\t\t\t\tself.repeatersControls[ control.id ] = self.repeatersControls[ control.id ] || [];\n\n\t\t\t\t\t\t\tself.repeatersControls[ control.id ] = {\n\t\t\t\t\t\t\t\t\t'user_entries': JSON.parse( decodeURI( control.setting.get() ) ) /* @see function [getValue] in [wp.customize.controlConstructor.repeater] located in [controls/js/script.js] */\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t/* 2. Collect Active Callbacks Arrays for each Available Repeater */\n\t\t\t_.each( self.repeatersControls, function( repDetails, repID ) {\n\n\t\t\t\t\tvar repControl = wp.customize.control( repID ),\n\t\t\t\t\t\t\trepUserEntries = (! _.isUndefined( repDetails ) && !_.isUndefined( repDetails['user_entries'] ) && ! _.isEmpty( repDetails['user_entries'] ) ) ? repDetails['user_entries'] : null;\n\n\t\t\t\t\tif( ! _.isUndefined( repControl ) && ! _.isNull( repUserEntries ) ) {\n\n\t\t\t\t\t\t\t_.each(repUserEntries, function(rowValue, rowIndex) {\n\n\t\t\t\t\t\t\t\t\t_.each(rowValue, function(eleValue, eleID) {\n\n\t\t\t\t\t\t\t\t\t\t\tif( !_.isUndefined( repControl.params.fields[ eleID ] ) ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar eleDetails = repControl.params.fields[ eleID ];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tself.showRepeaterControl( repControl.id, eleDetails, rowValue );\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tself.repeatersActiveCallbackFields[ repControl.id ] = self.repeatersActiveCallbackFields[ repControl.id ] || [];\n\t\t\t\t\t\t\tself.repeatersActiveCallbackFields[ repControl.id ] = self.listenTo;\n\t\t\t\t\t\t\t/* Destroy it */\n\t\t\t\t\t\t\tself.listenTo = {};\n\n\t\t\t\t\t}\n\n\t\t\t} );\n\n\n\t\t\t/* 3. Iterate inside every user entry and Apply [showRepeaterControl] on each slave element */\n\t\t\t_.each( self.repeatersActiveCallbackFields, function( required_fields, repID ) {\n\n\t\t\t\t\tobjRepeaterControl \t\t= wp.customize.control( repID );\n\n\t\t\t\t\tif( ! _.isUndefined( objRepeaterControl ) ) {\n\n\t\t\t\t\t\t\tvar repUserEntries \t= JSON.parse( decodeURI( objRepeaterControl.setting.get() ) ), /* @see function [getValue] in [wp.customize.controlConstructor.repeater] located in [controls/js/script.js] */\n\t\t\t\t\t\t\t\t\trepFields \t= objRepeaterControl.params.fields;\n\n\t\t\t\t\t\t\t_.each(repUserEntries, function(rowValue, rowIndex) {\n\n\t\t\t\t\t\t\t\t\t_.each( required_fields, function( slaves, master ) {\n\n\t\t\t\t\t\t\t\t\t\t\t_.each( slaves, function( slave ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar objSlave = repFields[ slave ],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveState,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisplayed;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisplayed = function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn self.showRepeaterControl( repID, objSlave, rowValue );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveState = function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif( isDisplayed() ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery(objRepeaterControl.selector).find( '[data-row=\"' + rowIndex + '\"] .repeater-field-' + slave ).removeClass('inactive').addClass('active').slideDown('fast');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery(objRepeaterControl.selector).find( '[data-row=\"' + rowIndex + '\"] .repeater-field-' + slave ).removeClass('active').addClass('inactive').slideUp('fast');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveState();\n\n\n\t\t\t\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t} );\n\n\t},\n\n\n\t/**\n\t * Should we show the control?\n\t *\n\t * @since 4.0.22\n\t *\n\t * @param {string} \t\t\trepeaterID - The repeater ID\n\t * @param {string|object}\tcontrol - The control-id or the control object.\n\t * @param {object}\t\t\trowEntries - The user entry for a repeater block\n\t * @returns {bool}\n\t */\n\tshowRepeaterControl: function( repeaterID, control, rowEntries ) {\n\n\t\t\tvar self     = this,\n\t\t\t\t\tshow     = true,\n\n\t\t\t\t\tisOption = (\n\t\t\t\t\t\t\t! _.isUndefined( control ) &&\t/* Fix: Multiple Repeaters with no active_callback */\n\t\t\t\t\t\t\t! _.isUndefined( control.id ) &&\t/* Fix: Multiple Repeaters with no active_callback */\n\t\t\t\t\t\t\tcontrol.id && // Check if id exists.\n\t\t\t\t\t\t\tcontrol.type &&  // Check if tpe exists.\n\t\t\t\t\t\t\t! _.isEmpty( control.type ) // Check if control's type is not empty.\n\t\t\t\t\t),\n\t\t\t\t\ti;\n\n\t\t\t// Exit early if control not found or if \"required\" argument is not defined.\n\t\t\tif ( 'undefined' === typeof control || 'undefined' === typeof control.active_callback || ( control.active_callback && _.isEmpty( control.active_callback ) ) ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Loop control requirements.\n\t\t\tfor ( i = 0; i < control.active_callback.length; i++ ) {\n\t\t\t\t\tif ( ! self.checkCondition( repeaterID, control.active_callback[ i ], control, rowEntries, isOption, 'AND' ) ) {\n\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t}\n\t\t\t}\n\t\t\treturn show;\n\t},\n\n\t/**\n\t * Check a condition.\n\t *\n\t * @param {string} repeaterID - The repeater ID\n\t * @param {Object} requirement - The requirement, inherited from showRepeaterControl - Represents the Active Callack Array.\n\t * @param {Object} control \t- The repeater's control object.\n\t * @param {object} rowEntries - The user entry for a repeater block\n\t * @param {bool}   isOption - Whether it's an option or not.\n\t * @param {string} relation - Can be one of 'AND' or 'OR'.\n\t */\n\tcheckCondition: function( repeaterID, requirement, control, rowEntries, isOption, relation ) {\n\t\t\tvar self          = this,\n\t\t\t\t\tchildRelation = ( 'AND' === relation ) ? 'OR' : 'AND',\n\t\t\t\t\tnestedItems,\n\t\t\t\t\trequirementSettingValue,\n\t\t\t\t\ti;\n\n\n\n\t\t\t// If an array of other requirements nested, we need to process them separately.\n\t\t\tif ( 'undefined' !== typeof requirement[0] && 'undefined' === typeof requirement.setting ) {\n\n\t\t\t\t\tnestedItems = [];\n\n\t\t\t\t\t// Loop sub-requirements.\n\t\t\t\t\tfor ( i = 0; i < requirement.length; i++ ) {\n\t\t\t\t\t\t\tnestedItems.push( self.checkCondition( repeaterID, requirement[ i ], control, rowEntries, isOption, childRelation ) );\n\t\t\t\t\t}\n\n\n\t\t\t\t\t// OR relation. Check that true is part of the array.\n\t\t\t\t\tif ( 'OR' === childRelation ) {\n\t\t\t\t\t\t\treturn ( -1 !== nestedItems.indexOf( true ) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// AND relation. Check that false is not part of the array.\n\t\t\t\t\treturn ( -1 === nestedItems.indexOf( false ) );\n\t\t\t}\n\n\n\t\t\t// Early exit if setting is not defined.\n\t\t\tif ( ! requirement.setting in rowEntries ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t/* Requirement Setting User Value */\n\t\t\trequirementSettingValue = rowEntries[ requirement.setting ];\n\n\t\t\t// console.log( requirementSettingValue );\n\n\t\t\t/**\n\t\t\t * Output: listenTo\n\t\t\t *\n\t\t\t * Master_#1\t=> array(\n\t\t\t * \t\t0: Slave #1,\n\t\t\t * \t\t1: Slave #2\n\t\t\t * )\n\t\t\t *\n\t\t\t */\n\t\t\tself.listenTo[ requirement.setting ] = self.listenTo[ requirement.setting ] || [];\n\n\t\t\tif ( -1 === self.listenTo[ requirement.setting ].indexOf( control.id ) ) {\n\n\t\t\t\t\tself.listenTo[ requirement.setting ].push( control.id );\n\n\t\t\t}\n\n\t\t\treturn self.evaluate(\n\t\t\t\t\trequirement.value,\n\t\t\t\t\trequirementSettingValue,\n\t\t\t\t\trequirement.operator\n\t\t\t);\n\n\t},\n\n\t/**\n\t * Figure out if the 2 values have the relation we want.\n\t *\n\t * @since 4.0.22\n\t * @param {mixed} value1 - The 1st value.\n\t * @param {mixed} value2 - The 2nd value.\n\t * @param {string} operator - The comparison to use.\n\t * @returns {bool}\n\t */\n\tevaluate: function( value1, value2, operator ) {\n\t\t\tvar found = false;\n\n\t\t\tif ( '===' === operator ) {\n\t\t\t\t\treturn value1 === value2;\n\t\t\t}\n\t\t\tif ( '==' === operator || '=' === operator || 'equals' === operator || 'equal' === operator ) {\n\t\t\t\t\treturn value1 == value2;\n\t\t\t}\n\t\t\tif ( '!==' === operator ) {\n\t\t\t\t\treturn value1 !== value2;\n\t\t\t}\n\t\t\tif ( '!=' === operator || 'not equal' === operator ) {\n\t\t\t\t\treturn value1 != value2;\n\t\t\t}\n\t\t\tif ( '>=' === operator || 'greater or equal' === operator || 'equal or greater' === operator ) {\n\t\t\t\t\treturn value2 >= value1;\n\t\t\t}\n\t\t\tif ( '<=' === operator || 'smaller or equal' === operator || 'equal or smaller' === operator ) {\n\t\t\t\t\treturn value2 <= value1;\n\t\t\t}\n\t\t\tif ( '>' === operator || 'greater' === operator ) {\n\t\t\t\t\treturn value2 > value1;\n\t\t\t}\n\t\t\tif ( '<' === operator || 'smaller' === operator ) {\n\t\t\t\t\treturn value2 < value1;\n\t\t\t}\n\t\t\tif ( 'contains' === operator || 'in' === operator ) {\n\t\t\t\t\tif ( _.isArray( value1 ) && _.isArray( value2 ) ) {\n\t\t\t\t\t\t\t_.each( value2, function( value ) {\n\t\t\t\t\t\t\t\t\tif ( value1.includes( value ) ) {\n\t\t\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\treturn found;\n\t\t\t\t\t}\n\t\t\t\t\tif ( _.isArray( value2 ) ) {\n\t\t\t\t\t\t\t_.each( value2, function( value ) {\n\t\t\t\t\t\t\t\t\tif ( value == value1 ) { // jshint ignore:line\n\t\t\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\treturn found;\n\t\t\t\t\t}\n\t\t\t\t\tif ( _.isObject( value2 ) ) {\n\t\t\t\t\t\t\tif ( ! _.isUndefined( value2[ value1 ] ) ) {\n\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_.each( value2, function( subValue ) {\n\t\t\t\t\t\t\t\t\tif ( value1 === subValue ) {\n\t\t\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\treturn found;\n\t\t\t\t\t}\n\t\t\t\t\tif ( _.isString( value2 ) ) {\n\t\t\t\t\t\t\tif ( _.isString( value1 ) ) {\n\t\t\t\t\t\t\t\t\treturn ( -1 < value1.indexOf( value2 ) && -1 < value2.indexOf( value1 ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -1 < value1.indexOf( value2 );\n\t\t\t\t\t}\n\t\t\t}\n\t\t\treturn value1 == value2;\n\t}\n\n};\n\njQuery(document).ready(function () {\n  kirkiDependencies.init();\n  KirkiRepeaterDependencies.init();\n});\n"],"names":["$867dd2a716b51c32$var$kirkiDependencies","dependencyControls","init","self","_","each","window","kirkiControlDependencies","requirements","dependantID","control","wp","customize","addSettingLink","params","required","showKirkiControl","dependency","dependencySetting","childrens","childrenSetting","settingLink","setting","setActiveState","isDisplayed","active","set","bind","validate","getSettingLink","controlID","document","querySelector","dataset","kirkiSettingLink","forEach","requirement","requirementIndex","length","i","show","isString","isEmpty","checkCondition","dependantControl","relation","nestedItems","value","childRelation","push","indexOf","includes","id","console","log","get","_value","evaluate","operator","choice","value1","value2","found","isArray","isObject","isUndefined","subValue","$867dd2a716b51c32$var$KirkiRepeaterDependencies","repeatersControls","repeatersActiveCallbackFields","listenTo","kirkiRepeaterControlsAvailable","repDetails","repeaterID","type","JSON","parse","decodeURI","repID","repControl","repUserEntries","isNull","rowValue","rowIndex","eleValue","eleID","fields","eleDetails","showRepeaterControl","required_fields","objRepeaterControl","repFields","slaves","master","slave","objSlave","jQuery","selector","find","removeClass","addClass","slideDown","slideUp","rowEntries","isOption","active_callback","requirementSettingValue","ready"],"version":3,"file":"control.js.map"}